(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[454],{2604:(e,t,s)=>{Promise.resolve().then(s.bind(s,891))},891:(e,t,s)=>{"use strict";s.d(t,{default:()=>d});var a=s(5155),r=s(8173),n=s.n(r),l=s(2115),i=s(6046),o=s(2110);function d(){let[e,t]=(0,l.useState)(""),[s,r]=(0,l.useState)(""),[d,u]=(0,l.useState)(""),[c,p]=(0,l.useState)(""),[h,g]=(0,l.useState)(""),[x,m]=(0,l.useState)(""),[f,y]=(0,l.useState)(""),j=(0,i.useRouter)(),N=async t=>{if(t.preventDefault(),!e||!s||!c||!d||!h||!x){y("All fields are necessary.");return}try{let a=await fetch("api/userExists",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s})}),{user:r}=await a.json();if(r){o.oR.error("User already exists.");return}(await fetch("api/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,email:s,password:c,number:d,businessName:h,businessAddress:x})})).ok?(t.target.reset(),o.oR.success("User registration Successfull!",{onClose:()=>j.push("/")})):o.oR.error("User registration failed!")}catch(e){console.log("Error during registration: ",e)}};return(0,a.jsx)("div",{className:"grid place-items-center h-screen",children:(0,a.jsxs)("div",{className:"shadow-lg p-5 rounded-lg border-t-4 border-green-400",children:[(0,a.jsx)("h1",{className:"text-xl font-bold my-4",children:"Register"}),(0,a.jsx)(o.N9,{}),(0,a.jsxs)("form",{onSubmit:N,className:"flex flex-col gap-3",children:[(0,a.jsx)("input",{onChange:e=>t(e.target.value),type:"text",placeholder:"Full Name"}),(0,a.jsx)("input",{onChange:e=>r(e.target.value),type:"text",placeholder:"Email"}),(0,a.jsx)("input",{onChange:e=>u(e.target.value),type:"text",placeholder:"Number"}),(0,a.jsx)("input",{onChange:e=>g(e.target.value),type:"text",placeholder:"Business Name"}),(0,a.jsx)("input",{onChange:e=>m(e.target.value),type:"text",placeholder:"Business Address"}),(0,a.jsx)("input",{onChange:e=>p(e.target.value),type:"password",placeholder:"Password"}),(0,a.jsx)("button",{className:"bg-green-600 text-white font-bold cursor-pointer px-6 py-2",children:"Register"}),f&&(0,a.jsx)("div",{className:"bg-red-500 text-white w-fit text-sm py-1 px-3 rounded-md mt-2",children:f}),(0,a.jsxs)(n(),{className:"text-sm mt-3 text-right",href:"/",children:["Already have an account? ",(0,a.jsx)("span",{className:"underline",children:"Login"})]})]})]})})}s(5716)}},e=>{var t=t=>e(e.s=t);e.O(0,[797,27,28,441,517,358],()=>t(2604)),_N_E=e.O()}]);