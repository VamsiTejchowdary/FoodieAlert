(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2485:(e,s,t)=>{Promise.resolve().then(t.bind(t,3927))},3927:(e,s,t)=>{"use strict";t.d(s,{default:()=>c});var a=t(5155),r=t(8173),n=t.n(r),l=t(2115),i=t(2615),d=t(6046),o=t(2110);function c(){let[e,s]=(0,l.useState)(""),[t,r]=(0,l.useState)(""),[c,h]=(0,l.useState)(""),u=(0,d.useRouter)(),p=async s=>{s.preventDefault();try{let s=await (0,i.signIn)("credentials",{email:e,password:t,redirect:!1}),a=await fetch("api/userExists",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})}),r=(await a.json()).user;if(s.error){o.oR.error("Invalid Credentials"),h("Invalid Credentials");return}o.oR.success("Logged in successfully"),"admin"==r.role?u.replace("admindashboard"):u.replace("dashboard")}catch(e){console.log(e)}};return(0,a.jsx)("div",{className:"grid place-items-center h-screen",children:(0,a.jsxs)("div",{className:"shadow-lg p-5 rounded-lg border-t-4 border-green-400",children:[(0,a.jsx)("h1",{className:"text-xl font-bold my-4",children:"Login"}),(0,a.jsx)(o.N9,{}),(0,a.jsxs)("form",{onSubmit:p,className:"flex flex-col gap-3",children:[(0,a.jsx)("input",{onChange:e=>s(e.target.value),type:"text",placeholder:"Email"}),(0,a.jsx)("input",{onChange:e=>r(e.target.value),type:"password",placeholder:"Password"}),(0,a.jsx)("button",{className:"bg-green-600 text-white font-bold cursor-pointer px-6 py-2",children:"Login"}),c&&(0,a.jsx)("div",{className:"bg-red-500 text-white w-fit text-sm py-1 px-3 rounded-md mt-2",children:c}),(0,a.jsxs)(n(),{className:"text-sm mt-3 text-right",href:"/register",children:["Don't have an account? ",(0,a.jsx)("span",{className:"underline",children:"Register"})]})]})]})})}t(5716)}},e=>{var s=s=>e(e.s=s);e.O(0,[797,615,27,28,441,517,358],()=>s(2485)),_N_E=e.O()}]);