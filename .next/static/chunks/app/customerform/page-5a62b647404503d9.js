(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[998],{3128:function(e,t,r){Promise.resolve().then(r.bind(r,9819))},9819:function(e,t,r){"use strict";r.r(t);var o=r(7437),n=r(2265);let i={pageContainer:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",backgroundColor:"#f0f0f0"},container:{maxWidth:"600px",width:"100%",padding:"20px",backgroundColor:"#fff",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},heading:{textAlign:"center",color:"#333",marginBottom:"20px"},successMessage:{backgroundColor:"#d4edda",color:"#155724",padding:"10px",marginBottom:"20px",borderRadius:"5px",textAlign:"center",border:"1px solid #c3e6cb"},form:{display:"flex",flexDirection:"column"},formGroup:{marginBottom:"15px"},label:{fontSize:"14px",marginBottom:"5px",color:"#555"},input:{padding:"10px",fontSize:"14px",borderRadius:"4px",border:"1px solid #ddd",width:"100%"},select:{padding:"10px",fontSize:"14px",borderRadius:"4px",border:"1px solid #ddd",width:"100%"},button:{padding:"12px",fontSize:"16px",backgroundColor:"#007BFF",color:"#fff",borderRadius:"4px",border:"none",cursor:"pointer",width:"100%",transition:"background-color 0.3s"}};t.default=()=>{let[e,t]=(0,n.useState)(""),[r,l]=(0,n.useState)(""),[s,a]=(0,n.useState)(""),[d,c]=(0,n.useState)(""),[u,p]=(0,n.useState)([]),[f,h]=(0,n.useState)("");(0,n.useEffect)(()=>{let e=async()=>{try{let e=await fetch("api/locations",{method:"GET",headers:{"Content-Type":"application/json"}}),t=await e.json();console.log(t),p(t.locations)}catch(e){console.error("Error fetching locations:",e)}};e()},[]);let x=async o=>{o.preventDefault();try{let o=await fetch("/api/customersubscribe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,phone:r,email:s,location_id:d})});await o.json(),o.ok?(h("Thank you for subscribing!"),t(""),l(""),a(""),c(""),setTimeout(()=>{h("")},5e3)):alert("An error occurred. Please try again.")}catch(e){console.error("Error submitting form:",e),alert("An error occurred. Please try again.")}};return(0,o.jsx)("div",{style:i.pageContainer,children:(0,o.jsxs)("div",{style:i.container,children:[(0,o.jsx)("h2",{style:i.heading,children:"Subscribe to Food Truck Notifications"}),f&&(0,o.jsx)("div",{style:i.successMessage,children:f}),(0,o.jsxs)("form",{onSubmit:x,style:i.form,children:[(0,o.jsxs)("div",{style:i.formGroup,children:[(0,o.jsx)("label",{htmlFor:"name",style:i.label,children:"Your Name"}),(0,o.jsx)("input",{type:"text",id:"name",value:e,onChange:e=>t(e.target.value),required:!0,style:i.input})]}),(0,o.jsxs)("div",{style:i.formGroup,children:[(0,o.jsx)("label",{htmlFor:"phone",style:i.label,children:"Phone Number"}),(0,o.jsx)("input",{type:"text",id:"phone",value:r,onChange:e=>l(e.target.value),required:!0,style:i.input})]}),(0,o.jsxs)("div",{style:i.formGroup,children:[(0,o.jsx)("label",{htmlFor:"email",style:i.label,children:"Email Address"}),(0,o.jsx)("input",{type:"email",id:"email",value:s,onChange:e=>a(e.target.value),required:!0,style:i.input})]}),(0,o.jsxs)("div",{style:i.formGroup,children:[(0,o.jsx)("label",{htmlFor:"location",style:i.label,children:"Select Location"}),(0,o.jsxs)("select",{id:"location",value:d,onChange:e=>c(e.target.value),required:!0,style:i.select,children:[(0,o.jsx)("option",{value:"",children:"Select a location"}),u.map(e=>(0,o.jsxs)("option",{value:e._id,children:[e.name," - ",e.address]},e._id))]})]}),(0,o.jsx)("div",{style:i.formGroup,children:(0,o.jsx)("button",{type:"submit",style:i.button,children:"Subscribe"})})]})]})})}},622:function(e,t,r){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o=r(2265),n=Symbol.for("react.element"),i=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,s=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function d(e,t,r){var o,i={},d=null,c=null;for(o in void 0!==r&&(d=""+r),void 0!==t.key&&(d=""+t.key),void 0!==t.ref&&(c=t.ref),t)l.call(t,o)&&!a.hasOwnProperty(o)&&(i[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps)void 0===i[o]&&(i[o]=t[o]);return{$$typeof:n,type:e,key:d,ref:c,props:i,_owner:s.current}}t.Fragment=i,t.jsx=d,t.jsxs=d},7437:function(e,t,r){"use strict";e.exports=r(622)}},function(e){e.O(0,[971,596,744],function(){return e(e.s=3128)}),_N_E=e.O()}]);