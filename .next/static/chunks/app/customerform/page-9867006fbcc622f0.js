(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[497],{3612:(e,t,a)=>{Promise.resolve().then(a.bind(a,4236))},4236:(e,t,a)=>{"use strict";a.d(t,{default:()=>n});var o=a(5155),r=a(2115);let n=()=>{let[e,t]=(0,r.useState)(""),[a,n]=(0,r.useState)(""),[s,l]=(0,r.useState)(""),[i,c]=(0,r.useState)(""),[u,d]=(0,r.useState)(""),[f,g]=(0,r.useState)([]),[h,p]=(0,r.useState)("");(0,r.useEffect)(()=>{let e=async()=>{try{let e=await fetch("api/locations?email=".concat(encodeURIComponent(s)),{method:"GET",headers:{"Content-Type":"application/json"}}),t=await e.json();g(t.locations)}catch(e){console.error("Error fetching locations:",e)}};s&&e()},[s]);let b=async o=>{o.preventDefault();let r=Math.floor(1e3+9e3*Math.random());try{let o=await fetch("/api/customersubscribe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,phone:a,email:s,favfood:u,code:r,location_id:i})});await o.json(),o.ok?(p("Thank you for subscribing!"),t(""),n(""),l(""),d(""),c(""),setTimeout(()=>p(""),5e3)):alert("An error occurred. Please try again.")}catch(e){console.error("Error submitting form:",e),alert("An error occurred. Please try again.")}};return(0,o.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-start py-8 sm:py-4",style:{background:"linear-gradient(to right, #001f3d, #243b4a)"},children:[(0,o.jsx)("div",{className:"flex justify-center mb-0 mt-4 sm:mt-2",children:(0,o.jsx)("img",{src:"herofoodielogo.png",alt:"Logo",className:"w-56 h-56 object-contain"})}),(0,o.jsxs)("div",{className:"w-full max-w-md p-8 space-y-6 rounded-lg shadow-lg",style:{background:"linear-gradient(to right, #001f3d, #243b4a)"},children:[(0,o.jsx)("h2",{className:"text-2xl text-center text-[#ff6f61] font-bold mb-1",style:{background:"linear-gradient(to right, #ff6f61, #f86e4f)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Subscribe to Food Truck Notifications"}),h&&(0,o.jsx)("div",{className:"bg-[#d4edda] text-[#155724] p-4 mb-4 rounded-md border border-[#c3e6cb] text-center",children:h}),(0,o.jsxs)("form",{onSubmit:b,className:"space-y-4",children:[(0,o.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),required:!0,placeholder:"Your Name",className:"w-full px-4 py-2 border-none bg-[#243b4a] text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#ff6f61]"}),(0,o.jsx)("input",{type:"number",value:a,onChange:e=>n(e.target.value),required:!0,placeholder:"Phone Number",className:"w-full px-4 py-2 border-none bg-[#243b4a] text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#ff6f61]"}),(0,o.jsx)("input",{type:"email",value:s,onChange:e=>l(e.target.value),required:!0,placeholder:"Email Address",className:"w-full px-4 py-2 border-none bg-[#243b4a] text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#ff6f61]"}),(0,o.jsx)("input",{type:"text",value:u,onChange:e=>d(e.target.value),required:!0,placeholder:"Favourite Food",className:"w-full px-4 py-2 border-none bg-[#243b4a] text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#ff6f61]"}),(0,o.jsxs)("select",{value:i,onChange:e=>c(e.target.value),required:!0,className:"w-full px-4 py-2 border-none bg-[#243b4a] text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#ff6f61]",children:[(0,o.jsx)("option",{value:"",children:"Select a location"}),f.map(e=>(0,o.jsxs)("option",{value:e._id,children:[e.name," - ",e.address]},e._id))]}),(0,o.jsx)("button",{type:"submit",className:"w-full py-3 bg-[#ff6f61] text-white font-semibold rounded-md hover:bg-[#f86e4f] focus:outline-none focus:ring-2 focus:ring-[#f86e4f]",children:"Subscribe"})]})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[441,517,358],()=>t(3612)),_N_E=e.O()}]);