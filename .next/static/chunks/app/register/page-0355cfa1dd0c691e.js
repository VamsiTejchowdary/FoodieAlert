(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[454],{2604:(e,t,a)=>{Promise.resolve().then(a.bind(a,891))},891:(e,t,a)=>{"use strict";a.d(t,{default:()=>i});var r=a(5155),o=a(2115),s=a(2110),n=a(2651);a(5716);var l=a(6046);function i(){let[e,t]=(0,o.useState)(""),[a,i]=(0,o.useState)(""),[c,d]=(0,o.useState)(""),[u,f]=(0,o.useState)(""),[g,h]=(0,o.useState)(""),[p,x]=(0,o.useState)(""),[m,b]=(0,o.useState)(""),[y,w]=(0,o.useState)(""),[j,v]=(0,o.useState)([]),[N,S]=(0,o.useState)(!1),C=(0,l.useRouter)(),k=async e=>{if(!e){v([]);return}S(!0);try{let t=await n.A.get("https://us1.locationiq.com/v1/search?key=".concat("pk.7e8c30e3d61b34a4bb1f66676cf244a7","&q=").concat(e,"&format=json"));t.data&&t.data.length>0?(v(t.data),w("")):(v([]),w("No results found"))}catch(e){v([]),w("Error fetching data: "+e.message)}finally{S(!1)}},E=e=>{x(e.display_name),v([])},_=async t=>{if(t.preventDefault(),!e||!a||!u||!c||!g||!p){w("All fields are necessary.");return}try{let r=await fetch("api/userExists",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a})}),{user:o}=await r.json();if(o){s.oR.error("User already exists.");return}let n=Math.floor(1e3+9e3*Math.random());(await fetch("api/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,email:a,password:u,number:c,passcode:n,businessName:g,businessAddress:p,messageChannel:m})})).ok?(t.target.reset(),x(""),s.oR.success("User registration Successful!",{onClose:()=>C.push("/login")})):s.oR.error("User registration failed!")}catch(e){console.log("Error during registration: ",e)}};return(0,r.jsxs)("div",{className:"flex flex-col items-center justify-start min-h-screen bg-gradient-to-r from-[#001f3d] to-[#243b4a]",children:[(0,r.jsx)("div",{className:"flex justify-center mt-1 mb-0",style:{marginTop:"-40px"},children:(0,r.jsx)("img",{src:"foodeehero.png",alt:"Logo",className:"w-64 h-64 md:w-72 md:h-72 object-contain"})}),(0,r.jsxs)("div",{className:"shadow-lg p-6 rounded-lg border-t-4 border-green-400 w-full max-w-lg mx-4",style:{background:"linear-gradient(to right, #001f3d, #374958)"},children:[(0,r.jsx)("h1",{className:"text-2xl font-bold my-4 text-center",style:{background:"linear-gradient(to right, #ff6f61, #f86e4f)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Register"}),(0,r.jsx)(s.N9,{}),(0,r.jsxs)("form",{onSubmit:_,className:"flex flex-col gap-6",children:[(0,r.jsx)("input",{onChange:e=>t(e.target.value),type:"text",placeholder:"Full Name",className:"p-4 rounded border-none bg-[#243b4a] text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#ff6f61] w-full"}),(0,r.jsx)("input",{onChange:e=>i(e.target.value),type:"text",placeholder:"Email",className:"p-4 rounded border-none bg-[#243b4a] text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#ff6f61] w-full"}),(0,r.jsx)("input",{onChange:e=>d(e.target.value),type:"text",placeholder:"Number",className:"p-4 rounded border-none bg-[#243b4a] text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#ff6f61] w-full"}),(0,r.jsx)("input",{onChange:e=>h(e.target.value),type:"text",placeholder:"Business Name",className:"p-4 rounded border-none bg-[#243b4a] text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#ff6f61] w-full"}),(0,r.jsx)("input",{type:"text",value:p,onChange:e=>{x(e.target.value),k(e.target.value)},placeholder:"Search for a business address",className:"p-4 rounded border-none bg-[#243b4a] text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#ff6f61] w-full"}),y&&(0,r.jsx)("div",{className:"text-white",children:y}),j.length>0&&(0,r.jsx)("div",{className:"bg-white text-black max-h-48 overflow-auto rounded mt-2 p-2 w-full",children:j.map((e,t)=>(0,r.jsx)("div",{onClick:()=>E(e),className:"cursor-pointer hover:bg-gray-200 p-2",children:e.display_name},t))}),(0,r.jsxs)("select",{onChange:e=>b(e.target.value),value:m,className:"p-4 rounded border-none bg-[#243b4a] text-white focus:outline-none focus:ring-2 focus:ring-[#ff6f61] w-full",children:[(0,r.jsx)("option",{value:"option",children:"Select Channel"}),(0,r.jsx)("option",{value:"sms",children:"SMS"}),(0,r.jsx)("option",{value:"email",children:"Email"}),(0,r.jsx)("option",{value:"both",children:"Both"})]}),(0,r.jsx)("input",{onChange:e=>f(e.target.value),type:"password",placeholder:"Password",className:"p-4 rounded border-none bg-[#243b4a] text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#ff6f61] w-full"}),(0,r.jsx)("button",{className:"bg-gradient-to-r from-[#ff6f61] to-[#f86e4f] text-white font-bold cursor-pointer px-6 py-3 rounded hover:from-[#f56a50] hover:to-[#e95b40] transition-all w-full",type:"submit",children:"Register"}),y&&(0,r.jsx)("div",{className:"bg-red-500 text-white w-fit text-sm py-1 px-3 rounded-md mt-2",children:y})]})]}),(0,r.jsx)("footer",{className:"footer",style:{padding:"30px",textAlign:"center",color:"#ddd"},children:(0,r.jsx)("p",{children:"\xa9 2025 FoodeAlert. All rights reserved."})})]})}a(8173)}},e=>{var t=t=>e(e.s=t);e.O(0,[797,27,28,651,441,517,358],()=>t(2604)),_N_E=e.O()}]);