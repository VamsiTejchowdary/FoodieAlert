(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4078:function(e,t,n){Promise.resolve().then(n.t.bind(n,6208,23)),Promise.resolve().then(n.t.bind(n,8169,23)),Promise.resolve().then(n.t.bind(n,3699,23)),Promise.resolve().then(n.t.bind(n,6656,23)),Promise.resolve().then(n.bind(n,7737))},7737:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var r=n(7437),s=n(1396),i=n.n(s),o=n(2265),a=n(2749),l=n(4033);function c(){let[e,t]=(0,o.useState)(""),[n,s]=(0,o.useState)(""),[c,d]=(0,o.useState)(""),u=(0,l.useRouter)(),h=async t=>{t.preventDefault();try{let t=await (0,a.signIn)("credentials",{email:e,password:n,redirect:!1}),r=await fetch("api/userExists",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})}),s=await r.json(),i=s.user;if(t.error){d("Invalid Credentials");return}"admin"===i.role&&u.replace("admindashboard"),u.replace("dashboard")}catch(e){console.log(e)}};return(0,r.jsx)("div",{className:"grid place-items-center h-screen",children:(0,r.jsxs)("div",{className:"shadow-lg p-5 rounded-lg border-t-4 border-green-400",children:[(0,r.jsx)("h1",{className:"text-xl font-bold my-4",children:"Login"}),(0,r.jsxs)("form",{onSubmit:h,className:"flex flex-col gap-3",children:[(0,r.jsx)("input",{onChange:e=>t(e.target.value),type:"text",placeholder:"Email"}),(0,r.jsx)("input",{onChange:e=>s(e.target.value),type:"password",placeholder:"Password"}),(0,r.jsx)("button",{className:"bg-green-600 text-white font-bold cursor-pointer px-6 py-2",children:"Login"}),c&&(0,r.jsx)("div",{className:"bg-red-500 text-white w-fit text-sm py-1 px-3 rounded-md mt-2",children:c}),(0,r.jsxs)(i(),{className:"text-sm mt-3 text-right",href:"/register",children:["Don't have an account? ",(0,r.jsx)("span",{className:"underline",children:"Register"})]})]})]})})}},3699:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{suspense:function(){return s},NoSSR:function(){return i}}),n(1024),n(2265);let r=n(7669);function s(){let e=Error(r.NEXT_DYNAMIC_NO_SSR_CODE);throw e.digest=r.NEXT_DYNAMIC_NO_SSR_CODE,e}function i(e){let{children:t}=e;return t}},4033:function(e,t,n){e.exports=n(8165)}},function(e){e.O(0,[749,396,971,596,744],function(){return e(e.s=4078)}),_N_E=e.O()}]);