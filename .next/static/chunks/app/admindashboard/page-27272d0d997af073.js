(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[582],{1753:(e,s,l)=>{Promise.resolve().then(l.bind(l,2985))},2985:(e,s,l)=>{"use strict";l.d(s,{default:()=>i});var n=l(5155),a=l(2615),t=l(6046),o=l(2115);function i(){var e,s;let{data:l}=(0,a.useSession)(),i=(0,t.useRouter)(),[r,c]=(0,o.useState)([]);return(0,o.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/fetchallusers",{method:"GET",headers:{"Content-Type":"application/json"}}),s=await e.json();console.log("Response data:",s),s.users?c(s.users):console.log("No users found")}catch(e){console.log("Error fetching users:",e)}})()},[]),(0,n.jsxs)("div",{className:"grid place-items-center h-screen",children:[(0,n.jsxs)("div",{className:"shadow-lg p-8 bg-zince-300/10 flex flex-col gap-2 my-6",children:[(0,n.jsxs)("div",{children:["Name: ",(0,n.jsx)("span",{className:"font-bold",children:null==l?void 0:null===(e=l.user)||void 0===e?void 0:e.name})]}),(0,n.jsxs)("div",{children:["Email: ",(0,n.jsx)("span",{className:"font-bold",children:null==l?void 0:null===(s=l.user)||void 0===s?void 0:s.email})]}),(0,n.jsx)("button",{onClick:()=>{(0,a.signOut)({redirect:!1}).then(()=>{i.push("/")})},className:"bg-red-500 text-white font-bold px-6 py-2 mt-3",children:"Log Out"})]}),(0,n.jsxs)("div",{className:"mt-6",children:[(0,n.jsx)("h2",{className:"font-bold text-lg",children:"All Users"}),(0,n.jsx)("ul",{children:r.length>0?r.map(e=>(0,n.jsxs)("li",{className:"py-2",children:[(0,n.jsx)("span",{className:"font-bold",children:e.name})," - ",e.email]},e._id)):(0,n.jsx)("li",{children:"No users found"})})]})]})}},6046:(e,s,l)=>{"use strict";var n=l(6658);l.o(n,"useRouter")&&l.d(s,{useRouter:function(){return n.useRouter}})}},e=>{var s=s=>e(e.s=s);e.O(0,[615,441,517,358],()=>s(1753)),_N_E=e.O()}]);