(()=>{var e={};e.id=582,e.ids=[582],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},79551:e=>{"use strict";e.exports=require("url")},76848:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>a.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>l});var r=s(70260),o=s(28203),n=s(25155),a=s.n(n),i=s(67292),d={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);s.d(t,d);let l=["",{children:["admindashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,18244)),"/Users/vamsitejchowdary/Documents/GitHub/FoodieAlert/app/admindashboard/page.jsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,9019)),"/Users/vamsitejchowdary/Documents/GitHub/FoodieAlert/app/layout.js"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/vamsitejchowdary/Documents/GitHub/FoodieAlert/app/admindashboard/page.jsx"],u={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:o.RouteKind.APP_PAGE,page:"/admindashboard/page",pathname:"/admindashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},3071:(e,t,s)=>{Promise.resolve().then(s.bind(s,10835))},40023:(e,t,s)=>{Promise.resolve().then(s.bind(s,66615))},89815:(e,t,s)=>{Promise.resolve().then(s.bind(s,81935))},26607:(e,t,s)=>{Promise.resolve().then(s.bind(s,21651))},35989:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,13219,23)),Promise.resolve().then(s.t.bind(s,34863,23)),Promise.resolve().then(s.t.bind(s,25155,23)),Promise.resolve().then(s.t.bind(s,40802,23)),Promise.resolve().then(s.t.bind(s,9350,23)),Promise.resolve().then(s.t.bind(s,48530,23)),Promise.resolve().then(s.t.bind(s,88921,23))},77845:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,66959,23)),Promise.resolve().then(s.t.bind(s,33875,23)),Promise.resolve().then(s.t.bind(s,88903,23)),Promise.resolve().then(s.t.bind(s,57174,23)),Promise.resolve().then(s.t.bind(s,84178,23)),Promise.resolve().then(s.t.bind(s,87190,23)),Promise.resolve().then(s.t.bind(s,61365,23))},66615:(e,t,s)=>{"use strict";s.d(t,{AuthProvider:()=>n});var r=s(45512),o=s(90993);let n=({children:e})=>(0,r.jsx)(o.SessionProvider,{children:e})},21651:(e,t,s)=>{"use strict";s.d(t,{default:()=>d});var r=s(45512),o=s(90993),n=s(79334),a=s(58009),i=s(68578);function d(){let{data:e}=(0,o.useSession)(),t=(0,n.useRouter)(),[s,d]=(0,a.useState)([]),[l,c]=(0,a.useState)([]),[u,p]=(0,a.useState)("users"),h=async()=>{try{let e=await fetch("/api/fetchallusers",{method:"GET",headers:{"Content-Type":"application/json"}}),t=await e.json();t.users?d(t.users):console.log("No users found")}catch(e){console.log("Error fetching users:",e)}},m=async(e,t)=>{try{let s=await fetch("/api/admindashboard/updateuserstatus",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e,status:t})}),r=await s.json();console.log(r),s.ok?(h(),x(),i.oR.success("Status updated successfully")):(i.oR.error("Error updating status"),console.error("Error updating status:",r.message))}catch(e){console.error("Error updating status:",e)}},x=async()=>{try{let e=await fetch("/api/admindashboard/fetchlocations",{method:"GET",headers:{"Content-Type":"application/json"}}),t=await e.json();t.locations?c(t.locations):console.log("No locations found")}catch(e){console.log("Error fetching locations:",e)}},b=async(e,t)=>{console.log("Updating location status:",e,t);try{let s=await fetch("/api/admindashboard/updatelocationstatus",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e,adminstatus:t})}),r=await s.json();console.log(r),s.ok?(x(),i.oR.success("Location status updated successfully")):(i.oR.error("Error updating location status"),console.error("Error updating status:",r.message))}catch(e){console.error("Error updating status:",e)}};return(0,r.jsxs)("div",{className:"min-h-screen flex flex-col items-center",style:{background:"linear-gradient(to right, #001f3d, #243b4a)"},children:[(0,r.jsx)(i.N9,{}),(0,r.jsx)("div",{className:"flex justify-center my-6",children:(0,r.jsx)("img",{src:"herofoodielogo.png",alt:"Logo",className:"w-36 h-36 md:w-56 md:h-56 object-contain"})}),(0,r.jsx)("div",{className:"relative text-2xl font-bold p-2 inline-block rounded",style:{color:"#ff6f61",top:"-30px"},children:"Admin Dashboard"}),(0,r.jsxs)("div",{className:"shadow-lg p-6 md:p-8 bg-[#243b4a] text-white flex flex-col gap-4 rounded-lg border-t-4 border-green-400 w-11/12 max-w-sm md:max-w-md",style:{background:"linear-gradient(to right, #001f3d, #374958)"},children:[(0,r.jsxs)("div",{children:["Name: ",(0,r.jsx)("span",{className:"font-bold",children:e?.user?.name})]}),(0,r.jsxs)("div",{children:["Email: ",(0,r.jsx)("span",{className:"font-bold",children:e?.user?.email})]}),(0,r.jsx)("button",{onClick:()=>{(0,o.signOut)({redirect:!1}).then(()=>{t.push("/login")})},className:"bg-gradient-to-r from-[#ff6f61] to-[#f86e4f] text-white font-bold px-4 py-2 md:px-6 md:py-3 rounded hover:from-[#f56a50] hover:to-[#e95b40] transition-all",children:"Log Out"})]}),(0,r.jsxs)("div",{className:"mt-8 w-full max-w-4xl",children:[(0,r.jsxs)("div",{className:"flex justify-center",children:[(0,r.jsx)("button",{className:`px-6 py-2 text-lg font-bold rounded-t-lg ${"users"===u?"bg-[#ff6f61] text-white":"bg-[#243b4a] text-gray-400"}`,onClick:()=>p("users"),children:"User Approvals"}),(0,r.jsx)("button",{className:`px-6 py-2 text-lg font-bold rounded-t-lg ${"locations"===u?"bg-[#ff6f61] text-white":"bg-[#243b4a] text-gray-400"}`,onClick:()=>p("locations"),children:"Location Approvals"})]}),(0,r.jsxs)("div",{className:"p-6 rounded-lg shadow-lg text-white",children:["users"===u&&(0,r.jsx)("div",{className:"grid gap-6 grid-cols-1 w-full md:grid-cols-2 lg:grid-cols-3",children:s.length>0?s.map(e=>(0,r.jsxs)("div",{className:"bg-[#243b4a] rounded-lg shadow-lg p-4 flex flex-col items-start border-t-4",style:{borderColor:"approved"===e.status?"green":"yellow"},children:[(0,r.jsx)("h3",{className:"text-lg font-bold",children:e.name}),(0,r.jsxs)("p",{children:["Email: ",e.email]}),(0,r.jsxs)("p",{children:["Number: ",e.number]}),(0,r.jsxs)("p",{children:["Status: ",(0,r.jsx)("span",{className:`ml-2 font-bold ${"approved"===e.status?"text-green-400":"text-yellow-400"}`,children:e.status})]}),(0,r.jsxs)("div",{className:"mt-4 flex gap-2 w-full",children:["pending"===e.status&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{onClick:()=>m(e._id,"approved"),className:"bg-green-500 text-white font-bold px-4 py-2 rounded hover:bg-green-600 w-full",children:"Approve"}),(0,r.jsx)("button",{onClick:()=>m(e._id,"rejected"),className:"bg-red-500 text-white font-bold px-4 py-2 rounded hover:bg-red-600 w-full",children:"Reject"})]}),"approved"===e.status&&(0,r.jsx)("button",{onClick:()=>m(e._id,"rejected"),className:"bg-red-500 text-white font-bold px-4 py-2 rounded hover:bg-red-600 w-full",children:"Reject"}),"rejected"===e.status&&(0,r.jsx)("button",{onClick:()=>m(e._id,"approved"),className:"bg-green-500 text-white font-bold px-4 py-2 rounded hover:bg-green-600 w-full",children:"Approve"})]})]},e._id)):(0,r.jsx)("p",{className:"text-center w-full",children:"No users found"})}),"locations"===u&&(0,r.jsx)("div",{className:"grid gap-6 grid-cols-1 w-full md:grid-cols-2 lg:grid-cols-3",children:l.length>0?l.map(e=>(0,r.jsxs)("div",{className:"bg-[#243b4a] rounded-lg shadow-lg p-4 flex flex-col items-start border-t-4",style:{borderColor:"approved"===e.adminstatus?"green":"yellow"},children:[(0,r.jsx)("h3",{className:"text-lg font-bold",children:e.name}),(0,r.jsxs)("p",{children:["Person Name: ",e.businessPersonName]}),(0,r.jsxs)("p",{children:["Person Email: ",e.businessEmail]}),(0,r.jsxs)("p",{children:["Business Address: ",e.address]}),(0,r.jsxs)("p",{children:["Admin Status: ",(0,r.jsx)("span",{className:`ml-2 font-bold ${"approved"===e.adminstatus?"text-green-400":"text-yellow-400"}`,children:e.adminstatus})]}),(0,r.jsxs)("div",{className:"mt-4 flex gap-2 w-full",children:["pending"===e.adminstatus&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{onClick:()=>b(e._id,"approved"),className:"bg-green-500 text-white font-bold px-4 py-2 rounded hover:bg-green-600 w-full",children:"Approve"}),(0,r.jsx)("button",{onClick:()=>b(e._id,"rejected"),className:"bg-red-500 text-white font-bold px-4 py-2 rounded hover:bg-red-600 w-full",children:"Reject"})]}),"approved"===e.adminstatus&&(0,r.jsx)("button",{onClick:()=>b(e._id,"rejected"),className:"bg-red-500 text-white font-bold px-4 py-2 rounded hover:bg-red-600 w-full",children:"Reject"}),"rejected"===e.adminstatus&&(0,r.jsx)("button",{onClick:()=>b(e._id,"approved"),className:"bg-green-500 text-white font-bold px-4 py-2 rounded hover:bg-green-600 w-full",children:"Approve"})]})]},e._id)):(0,r.jsx)("p",{className:"text-center w-full",children:"No locations found"})})]})]})]})}s(25806)},79334:(e,t,s)=>{"use strict";var r=s(58686);s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}})},10835:(e,t,s)=>{"use strict";s.d(t,{AuthProvider:()=>r});let r=(0,s(46760).registerClientReference)(function(){throw Error("Attempted to call AuthProvider() from the server but AuthProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/vamsitejchowdary/Documents/GitHub/FoodieAlert/app/Providers.js","AuthProvider")},18244:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var r=s(62740),o=s(81935);function n(){return(0,r.jsx)(o.default,{})}},9019:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d,metadata:()=>i});var r=s(62740),o=s(10835);s(82704);var n=s(69792),a=s.n(n);let i={title:"Foodie Alert",description:"Never Miss Your Favorite Food Truck Again!"};function d({children:e}){return(0,r.jsx)("html",{lang:"en",children:(0,r.jsx)("body",{className:a().className,children:(0,r.jsx)(o.AuthProvider,{children:e})})})}},81935:(e,t,s)=>{"use strict";s.d(t,{default:()=>r});let r=(0,s(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/vamsitejchowdary/Documents/GitHub/FoodieAlert/components/admindashboard.jsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/vamsitejchowdary/Documents/GitHub/FoodieAlert/components/admindashboard.jsx","default")},46055:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var r=s(88077);let o=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},82704:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[994,792,77,189],()=>s(76848));module.exports=r})();